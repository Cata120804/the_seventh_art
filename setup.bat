@echo off
chcp 65001 >nul

REM โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
REM โ 1๏ธโฃ  Cargar variables desde .env                     โ
REM โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
if exist ".env" (
    for /f "usebackq tokens=1,2 delims==" %%A in (".env") do (
        if "%%A" equ "HOST_PORT" set HOST_PORT=%%B
    )
)



echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo ๐ Iniciando setup automรกtico de la aplicaciรณn Spring Boot + MySQL
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
timeout /t 1 >nul

REM โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
REM โ 2๏ธโฃ  Levantar stack con Docker Compose               โ
REM โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
where docker >nul 2>nul || (echo โ Docker no estรก disponible. Instรกlalo o agrรฉgalo al PATH. & exit /b 1)
echo ๐ณ Levantando contenedores con Docker Compose...
docker compose up -d --build --wait 2>nul || docker-compose up -d --build
echo โ Contenedores en ejecuciรณn.
timeout /t 1 >nul

REM โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
REM โ 4๏ธโฃ  Informaciรณn final                               โ
REM โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
echo ๐ฏ Todo listo. La aplicaciรณn estรก corriendo en:
echo ๐ http://localhost:%HOST_PORT%
echo โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
pause